<form class="form" [ngClass]="{'edit': isEdit}" [formGroup]="form" (ngSubmit)="onSubmit()">
  <p class="paragraph">{{ title }}</p>

  <div class="section">
    <div class="element">
      <label for="name">Imię:</label>
      <input type="text" id="name" formControlName="name" required>
    </div>
    <div class="element">
      <label for="father">Ojciec:</label>
      <input type="text" id="father" formControlName="father">
    </div>
    <div class="element">
      <label for="grandfather">Dziadek:</label>
      <input type="text" id="grandfather" formControlName="grandfather">
    </div>
  </div>

  <div class="section">
    <div class="elements" *ngIf="isEditable" formArrayName="sons">
      <label>Synowie:</label>
      <div *ngFor="let son of sons.controls; let i = index">
        <input type="text" [formControlName]="i" placeholder="Imię syna">
      </div>
      <button type="button" (click)="addSon()">Dodaj syna</button>
    </div>
    <div class="elements" *ngIf="isEditable" formArrayName="grandsons">
      <label>Wnuki:</label>
      <div *ngFor="let grandson of grandsons.controls; let i = index">
        <input type="text" [formControlName]="i" placeholder="Imię wnuka">
      </div>
      <button type="button" (click)="addGrandson()">Dodaj wnuka</button>
    </div>
  </div>
  <div class="section" *ngIf="isEditable">
    <div class="element">
      <label for="age">Wiek:</label>
      <input type="number" id="age " formControlName="age">
    </div>
    <div class="element">
      <label for="description">Opis:</label>
      <input type="text" id="description " formControlName="description">
    </div>
    <div class="element">
      <label for="fragment">Namiar z Pisma Św:</label>
      <input type="text" id="fragment " formControlName="fragment">
    </div>
  </div>

  <button class="submit button" type="submit">{{ buttonText }}</button>
</form>